<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=euc-jp">
</head>

<body>
<h1>知識構造化法</h1>
2013年度、筑波大学、学部3・4年次、秋AB、木曜5・6限
<h2>1. 知識構造化とは</h2>
[5限　講義室.]
<ul>
<li>ガイダンス
<p>ある程度の理論の解説もありますが、Mathematica等を利用して実践的な解析ができる技術を身につけるための授業です。Linux上でC言語も使用します。</p>
<p>なんらかのプログラミング経験があることが望ましいですが、初心者に対しても丁寧に指導します。</p>
<p>初回は自己紹介的なことをやってもらいます。授業方針に対するリクエストは歓迎です。</p>
<li>履修者確認
<li>アンケート(調査票)
<p>
	<ul>
	<li>プログラミング言語の経験<br>
	Mathematica<br>
	R<br>
	C<br>
	その他<br>
	<li>出席はとらない 
	<li>授業中の質問に正答する等で加点
	<li>数回のレポートを予定
	<li>期末試験は行わない
	</ul>
</p>
<li>講師は、この文章(HTML)を軸にして授業を進める。内容は、スライド、Mathematica、Rに派生。
<li>知識構造化とは(スライド: 知識構造化法_中山先生/知識構造化法1.pptx)
<p>データ+解釈=知識 なのでしょうか? 構造化された知識=より良く定義された知識 なのでしょうか? 「知識」も「構造化」も明確な定義はありません。そこには深く分け入らず、探索的データ解析法を中心としたいくつかのデータの解析法を学びます。</p>
	<ul>
	<li>表現の変換・解釈
	<br>図やチャートを用いて情報や思考を分かりやすく示す
	<li>構造の付加(メタデータの付与)(スライド:知識構造化法_中山先生/知識構造化法1-2.pptx)
	<br>データを分類する
	<li>尺度水準(スライド:知識構造化法_中山先生/知識構造化法1-2.pptx)
	<br><a href="http://ja.wikipedia.org/wiki/%E5%B0%BA%E5%BA%A6%E6%B0%B4%E6%BA%96">http://ja.wikipedia.org/wiki/%E5%B0%BA%E5%BA%A6%E6%B0%B4%E6%BA%96</a>
	</ul>
</ul>
[6限　実習室.]
<ul>
<li>使用する環境の確認
	<ul>
	<li>全員一斉にWindowsの起動 : 5分
	<li>全員一斉にWindows -&gt; Linux の切り替え : 5分
	<li>全員一斉にLinux -&gt; Windows の切り替え : やってない。
	</ul>
<li>腕試し
	<ul>
	<li>R
	<br>腕試し: フィボナッチ数をprintするプログラムの作成
	<li>-Rが早く終わった人- Mathematica
	<br>腕試し: フィボナッチ数をprintするプログラムの作成
	<li>-skip- gcc
	<br>腕試し: フィボナッチ数(列)をprintするプログラムの作成
	</ul>
</ul>
<h2>2. データの構造について</h2>
[実習室. gcc, linux, Mathematica.]
<p>知識の構造化は、それを計算機上で行う限り、データの構造化である。<br>
今回は、データ構造(化)とデータ処理について少し詳しく学ぶ。<br>
ツールはMathematica。</p>
<p>その前にフィボナッチ数プログラムの答え合わせ。<br>
R<br>
Mathematicaはあとで<br>
</p>
<ul>
<li>データとは
<p>処理系が扱える表現全てがデータである。
<br><a href="http://ja.wikipedia.org/wiki/%E3%83%87%E3%83%BC%E3%82%BF">http://ja.wikipedia.org/wiki/%E3%83%87%E3%83%BC%E3%82%BF</a></p>
<p>ちなみに: 演算装置内の処理を考えるとき、「instruction」と「data」に分けて考える。ここでの「data」は別の概念と捉えたほうがよいであろう。</p>
<li>データ処理とは
<p>
データ処理とは、処理対象と処理命令の定義が記述された表現の入力を、入力以外の知識(ルール)を用い、表現が変化しなくなるまで評価を続けることである(べつの言葉で言えば、表現評価系を用いた表現の変換)。
処理対象と処理命令は、分離が曖昧であり広い意味ではすべて処理対象である。
</p>
<p>
	<ul>
	<li>-skip- 処理対象と処理命令は本質的に等価である -ラムダ計算-
	<br><a href="http://www.graco.c.u-tokyo.ac.jp/~masuhara/classes/iss2009/lambda.html">http://www.graco.c.u-tokyo.ac.jp/~masuhara/classes/iss2009/lambda.html</a>
	<li>チューリングマシン 
	<br>1.<a href="http://ja.wikipedia.org/wiki/%E3%83%81%E3%83%A5%E3%83%BC%E3%83%AA%E3%83%B3%E3%82%B0%E3%83%9E%E3%82%B7%E3%83%B3">http://ja.wikipedia.org/wiki/%E3%83%81%E3%83%A5%E3%83%BC%E3%83%AA%E3%83%B3%E3%82%B0%E3%83%9E%E3%82%B7%E3%83%B3</a>
	<br>2.<a href="http://en.wikipedia.org/wiki/Turing_machine">http://en.wikipedia.org/wiki/Turing_machine</a>
	<br>3.(スライド: turing.odp)
	</ul>
</p>
<p>
<br>例:<br>
インタープリタによる表現の評価: <br>[(入出力命令を含む)ユーザーによるスクリプト] -&gt [インタープリタ] -&gt [ユーザーが理解できる表現]
<br>
コンパイラによる表現の評価: <br>[ユーザーによるプログラムコード] -&gt [コンパイラ] -&gt [バイナリコード]
</p>

<li>効率的にデータ処理を行うためにコンパイラ(インタープリタ)が対応すべき表現
<p>
	<ul>
	<li>抽象化(変数)
	<li>繰り返し(または再帰)<br>再帰表現と繰り返し表現は可換であるが、書き直しの手間がかかるため、双方備えるべき。
	<li>条件分岐
	</ul>
</p>
<li>-skip- C言語におけるデータ型
<p>
<a href="http://ja.wikipedia.org/wiki/%E3%83%87%E3%83%BC%E3%82%BF%E5%9E%8B">http://ja.wikipedia.org/wiki/%E3%83%87%E3%83%BC%E3%82%BF%E5%9E%8B</a>
	<ul>
	<li>整数
	<li>実数(フロート)
	<li>キャラクタ
	<li>構造体
	<li>共用体
	<li>列挙型
	<li>ポインタ
	<li>配列
	</ul>
</p>
<li>-skip- C言語におけるデータの構造化(1)
<p>
<a href="http://ja.wikipedia.org/wiki/%E3%83%87%E3%83%BC%E3%82%BF%E6%A7%8B%E9%80%A0">http://ja.wikipedia.org/wiki/%E3%83%87%E3%83%BC%E3%82%BF%E6%A7%8B%E9%80%A0</a>
	<ul>
	<li>構造体
	<li>共用体
	<li>列挙型
	<li>複素数
	</ul>
</p>
<li>-skip- C言語におけるデータの構造化(2)
<p>
	<ul>
	<li>構造体ポインタ
	<li>関数ポインタ
	<li>リスト
	</ul>
</p>
<li>-skip- 演習:C言語におけるデータの構造化
<p>
	<ul>
	<li>配列とポインタの実装
	<li>malloc()を利用したメモリーの動的割り当て・解放
	<li>構造体の実装
	<li>リスト構造の実装
	</ul>
</p>
<li>基本的なデータ構造
<p>
	<ul>
	<li>配列
	<li>リスト
	<li>ツリー<br>
	数式の例<br>
	文章の例<br>
	<li>グラフ
	<li>ハイパーグラフ
	</ul>
</p>
<li>Mathematica言語におけるデータ構造とデータの構造化(実演)
<p>
	<ul>
	<li>データ型
	<li>リスト
	<li>構造体
	<li>ポインタ
	<li>グラフ
	<li>順関数
	<li>フィボナッチ数列ふたたび
	</ul>
</p>
<li>セマンティック・ウェブ
<p>
	<ul>
	<li>XML
	<li>RDF
	</ul>
</p>
<li>巨大な知識構造化の例
<p>
WolframAlpha(スライド: alpha.odp、実演)
</p>
<li>では、機械可読でない情報を計算機で扱うには?
<p>
センサーを使う(センサーと接続可能な場合)。または、解析器付きセンサーが出力するデータを読み込む。
</p>
<p>
オシロスコープの例(実演)
</p>
</ul>

<h2>3. 図表表示法</h2>
[実習室. Mathematica.]
<ul>
<li>データの図表化(スライド: Lecture_chisikikouzouka/図表表示法_データの図表化.ppt)
<p>
	<ul>
	<li>配列系
	<li>座標系
	<li>連結系
	<li>領域系
	</ul>
</p>
<li>Mathematicaでの作図
<p>
	<ul>
	<li>ヒストグラム
	<li>コンタープロット
	<li>ベクトル場プロット
	<li>補間
	</ul>
</p>
</ul>
<h2>4. 探索的データ解析</h2>
[実習室. Mathematica.]
<p>モデルを仮定しない解析。
<br><a href="http://reference.wolfram.com/mathematica/guide/DataClassification.ja.html">http://reference.wolfram.com/mathematica/guide/DataClassification.ja.html</a></p>
<ul>
<li>そのまえに、モデルに従う例
<p>
準備
	<ul>
	<li>Probability density function (PDF)
	<li>Cumulative distribution function (CDF)
	<li>準備 1. n次モーメント: Int[x^n f[x],dx] ; これは、y = f[x]としたときの、y軸に対するモーメントである
	<li>準備 2. n次平滑値(天野による定義、n次モーメントの値を0次モーメントの値で割ったもの): Int[x^n f[x],dx] / Int[f[x],dx]
	<li>準備 3. 確率分布の0次モーメントは1である
	<li>準備 4. 度数分布の0次モーメント(表現がヘンだが)はサンプル総数である
	<li>準備 5. したがって、1次平滑値は平均値となる
	</ul>
</p>
<p>
正規分布における平均・分散
	<ul>
	<li>正規分布: N[x|m,S] = 1/Sqrt[2 Pi S] Exp^(-1/(2 S) (x - m)^2)
	<li>次を満たす: N[x|m,S] &gt 0 かつ Integ[N[x|m,S],dx,-Inf,Inf] = 1
	<li>xの平均値(分母が1なのでそのままy軸に対する1次モーメントとなる) E[x]: Integ[N[x|m,S] x,dx,-Inf,Inf] / Integ[N[x|m,S],dx,-Inf,Inf] = m
	<li>xの(y軸に対する)2次モーメント E[x^2]: Integ[N[x|m,S] x^2,dx,-Inf,inf] / Integ[N[x|m,S],dx,-Inf,Inf] = m^2 + S
	<li>xの分散 E[x^2] - E[x]^2: m^2 + S - m^2 = S
	<li>要素値xiの正規化: (xi - mean) / Sqrt[Sum[(xi - mean)^2]]
	</ul>
</p>
<p>
ちなみに、m=0、S=1のとき、
	<ul>
	<li>歪度: 3次モーメント
	<li>尖度: 4次モーメント
	</ul>
</p>
<li>探索的データ解析(スライド: 知識構造化法_中山先生/知識構造化法3.pptx, 知識構造化法4.pptx)
<p>
	<ul>
	<li>正規分布モデルに対する幹葉表示
	<li>平均値に対する中央値
	<li>標準偏差に対するヒンジ散布度(上ヒンジ値と下ヒンジ値の差をヒンジ散布度と言い、これを1.35で割った値を擬似標準偏差と言う)
	</ul>
</p>
<li>乱数発生
<p>	
	<ul>
	<li>一様乱数
	<li>変換法による確率分布を反映した乱数生成
	<li>棄却法による確率分布を反映した乱数生成
	</ul>
</p>	
<li>擬似ランダムネスを見破る
<p>
x &lt;- x (1-x) 4
</p>
</ul>
<h2>5. 様々な類似度・距離の考え方</h2>
[実習室]
<p>
スライド:  知識構造化法_中山先生/知識構造化法5.pptx
</p>
<ul>
<li>類似度・非類似度・距離の性質
<p>
	<ul>
	<li>類似度
	<li>非類似度
	<li>距離
	</ul>
</p>
<li>名義尺度・集合間の距離と類似度
<p>
	<ul>
	<li>相互情報量
	<br>I[X:Y] = sum[sum[ p[x,y] log[p[x,y] / (p[x] p[y])], x in X],y in Y]
	</ul>
</p>
<li>定量値の距離と類似度
<p>
	<ul>
	<li>ユークリッド距離
	<li>コサイン距離
	</ul>
</p>
<li>順序尺度の距離と類似度
<li>文字列間の距離と類似度
<p>
	<ul>
	<li>ハミング距離
	<li>編集距離(レーベンシュタイン距離)
	<li>文字列アライメント(後述(7.))
	<li>n-gramベクトル
	</ul>
</p>
<li>有界化
<p>
	<ul>
	<li>l(X) = E^-(E^(-X))<br>
	-Inf &le; X &le; Inf<br>
	0 &le; l(X) &le; 1
	</ul>
</p>
</ul>
<h2>6. 非階層的クラスタリング</h2>
[実習室. Mathematica.]
<ul>
<li>クラスタリングとは
<p>
そもそも分類とは、狭義には次のふたつ: 1. クラシフィケーション -あらかじめ定義されたクラスにサンプルを割り当てる- 、2. クラスタリング -クラスを動的に定義しつつ(クラスタ数も変化する)、サンプルをクラスに割り当てる- 、と理解しておけばよい。広義(ふたつを合わせたもの)には、「クラシフィケーション」=「分類」を使う。
</p>
<li>非階層クラスタリング
<p>
	<ul>
	<li>リーダーアルゴリズム(スライド: 知識構造化法_中山先生/知識構造化法6.pptx)
	<li>k-means(スライド: 知識構造化法_中山先生/知識構造化法6-2.pptx)
	</ul>
</p>
<li>クラスタ分割の適正性の検定・指標
<p>
	<ul>
	<li>カリンスキーの指標
	<li>ハーティガンの指標
	<li>Within Cluster Distance (WCD)と Between Cluster Distance (BCD)
	<li>Score Function (SF)
	</ul>
</p>
</ul>
<h2>7. 階層的クラスタリング</h2>
[実習室. Mathematica.]
<ul>
<li>凝集法(スライド: 知識構造化法_中山先生/知識構造化法7.pptx)
<li>ベクトルデータの階層的クラスタリング(スライド: 知識構造化法_中山先生/知識構造化法7.pptx)
<li>クラスタ分割の適正性の検定・指標、もう一度(スライド: 知識構造化法_中山先生/知識構造化法7-2.pptx)
<p>
	<ul>
	<li>gap検定法
	<li>silhouette検定法
	</ul>
</p>
<li>分裂法(スライド: 知識構造化法_中山先生/知識構造化法8.pptx)
<li>Modified Farris法(スライド: 知識構造化法_中山先生/知識構造化法8-2.pptx)
<li>単一遺伝子の比較による系統樹
<p>
	<ul>
	<li>スコアを利用したふたつの文字列間のアライメントと距離(バイオインフォマティクス_深海先生/筑波2010_3_v1.ppt)
	<li>マルチプルアライメント(スライド:バイオインフォマティクス_阿久津先生/nara-wu-2.ppt)
	<li>系統樹
		<ul>
		<li>最大節約法(<a href="http://www.icp.ucl.ac.be/~opperd/private/parsimony.html">http://www.icp.ucl.ac.be/~opperd/private/parsimony.html</a>)
		<li>NJ法(スライド:バイオインフォマティクス_深海先生/筑波2010_7_v0.ppt)
		</ul>
	</ul>
</p>
</ul>
<h2>8. 自己組織化マップ</h2>
[実習室. R, Mathematica]
<ul>
<li>ニューラルネットワーク(スライド: 知識構造化法_中山先生/知識構造化法9.pptx;NB: Lecture_chishikikouzouka/chishikikouzouka.nb8.nb)
	<ul>
	<li>ニューロン
	<li>教師あり学習
	<li>分類機械と競合学習
	</ul>
<li>SOM(スライド: 知識構造化法_中山先生/知識構造化法_天野加筆9-2.pptx)
<p>
<a href="http://www.sist.ac.jp/~kanakubo/research/neuro/selforganizingmap.html">http://www.sist.ac.jp/~kanakubo/research/neuro/selforganizingmap.html</a>
</p>
<li>k-meansと比較した場合のSOMの抽象的理解
<li>Rの基本
<li>演習
<p>
	<ul>
	<li>R
	<br>install.packages("kohonen")
	<br><a href="http://d.hatena.ne.jp/isseing333/20110224/1298512568">http://d.hatena.ne.jp/isseing333/20110224/1298512568</a>
	<li>Mathematica
	<br><a href="https://sites.google.com/site/mathematicarg/documents-1/documents1">https://sites.google.com/site/mathematicarg/documents-1/documents1</a>
	</ul>
</p>
</ul>
<h2>9. 主成分分析と数量化III類・IV類</h2>
[実習室. Mathematica.]
<ul>
<li>主成分分析(分散共分散法)(スライド: 知識構造化法_中山先生/知識構造化法_天野加筆9-3.pptx)
	<ul>
	<li>分散共分散行列
	<br><a href="http://d.hatena.ne.jp/Zellij/20130510/p1">http://d.hatena.ne.jp/Zellij/20130510/p1</a>
	<li>固有値固有ベクトル
	</ul>
<li>数量化III類・IV類の実装
</ul>
<h2>10. 大規模データ解析と計算資源</h2>
[実習室. gcc, linux.]
<p>大量の知識やデータを処理するための基本的な考え方・テクニックを学びます。</p>
<p>計算そのものを速くする = 並列化　ではない。並列化とは入出力のスループットを向上させるひとつの手立て。</p>
<ul>
<li>計算オーダー(アルゴリズム計算量)の考え方
<li>アルゴリズム計算量以外の計算速度に関わる要素(1)
<p>
	<ul>
	<li>バイナリ(VM上のVMコードを含む)による実行
	<li>バッチ処理
	<li>インタラクティブ処理
	</ul>
の順に計算コストは大きくなる。
</p>
<li>アルゴリズム計算量以外の計算速度に関わる要素(2)
<p>
	<ul>
	<li>レジスタ
	<li>キャッシュメモリ
	<li>メインメモリ
	<li>ハードディスク
	</ul>
の順にアクセススピードは遅くなる。
</p>
<li>その他の要素
<p>
	<ul>
	<li>計算精度(accuracy、precision)
	<br>計算精度を高くすると計算速度は落ちる
	<li>ユーザへの負担
	<br>ユーザへの負担が増えると"ユーザの仕事"が遅くなる -&gt; 本末転倒
	</ul>
</p>
<li>PCクラスタを構築してみよう!!
<p>
<a href="http://pareto.uab.es/mcreel/PelicanHPC/">http://pareto.uab.es/mcreel/PelicanHPC/</a>
<br><a href="http://www.youtube.com/watch?v=xFl4SnXJZZA">http://www.youtube.com/watch?v=xFl4SnXJZZA</a>
</p>
<li>距離行列を求めるMPIコードの実装
</ul>
</body>
</html>
